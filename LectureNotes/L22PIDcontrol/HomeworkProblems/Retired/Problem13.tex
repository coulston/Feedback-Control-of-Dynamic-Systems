The following shows a PD feedback control  system that is used to control the position of a load using a hydraulic actuator. The load is to be positioned relative to an operating point where the flow equation is $\delta q = 2\delta x - 4\delta p$. The piston area is $A = 2$ m$^2$. The dotted lines represent signals, $\delta y_{d}$ is the desired angular position, $\delta x$ is master valve position $\delta y$ is the position of the load. \\

\begin{center}
\resizebox{5in}{!}{
\begin{tikzpicture}[sysblock/.style={draw,rectangle,inner sep=2pt,minimum width=1cm,minimum height=1cm,very thick}]


% tank
\draw[very thick] (0,0) -- ++(2,0) -- ++(0,-.5) -- ++(1,.5) -- ++(2,0) -- ++(0,-3) -- ++(-2,0) -- ++(-1,.5) -- ++(0,-.5) -- ++(-2,0);
\draw[very thick] (0,-.5) -- ++(1.5,0) -- ++(0,-.75) -- ++(-1.5,0);
\draw[very thick] (0,-1.75) -- ++(1.5,0) -- ++(0,-.75) -- ++(-1.5,0);
\draw[very thick] (2,-1) -- ++(1,.5) -- ++(0,-2) -- ++(-1,.5) -- cycle;
%\draw (4,-3.5) node {\small Piston area: $1$};
\draw (0,-.25) node[left] {\small drain ($p_{0}$)};
\draw (0,-1.5) node[left] {\small supply ($p_{s}$)};
\draw (0,-2.75) node[left] {\small drain ($p_{0}$)};
\draw[->] (3,-.25) node[right] {\scriptsize$q$} -- ++(-.5,-.25);
\draw[->] (2.5,-2.5) -- ++(.5,-.25)  node[right] {\scriptsize$q$};
\draw (5.3,-1.9) node {\scriptsize $+$} ++(0,.4) node{\small $p$} ++(0,.4) node {\scriptsize$-$};

% valves
\draw[very thick,color=black] (1.75,-2.1) -- ++(0,3.1);
\draw[fill,left color=black,right color=black,middle color=white] (1.5,-.9) rectangle ++(.5,.35);
\draw[fill,left color=black,right color=black,middle color=white] (1.5,-2.4) rectangle ++(.5,.35);
\draw[|->] (1.5,1) node[left] (x) {$\delta x$} -- ++(0,-.5); 

% piston
\draw[fill,left color=black,right color=black,middle color=white] (4,-1.5) ++(-.2,0) rectangle ++(.4,2.5);
\draw[fill,left color=black,right color=black,middle color=white] (3,-1.75) rectangle ++(2,.5);
\draw[|->] (5.2,1) node[right] (y) {$\delta y$} -- ++(0,.5);

% load
%\draw (4,1) node[draw,very thick,above,dotted,rectangle,minimum width=.65in,minimum height=.4in] {Load};
\draw (4,5.25) node[inner sep=0,outer sep=0,rotate=-90] (g) {\input{\mainfolder/DrawingElements/MechanicalElements/ground.tex}};
\draw (4,4) node[inner sep=0,outer sep=0,rotate=-90] (k) {\input{\mainfolder/DrawingElements/MechanicalElements/spring.tex}};
\draw (4,1) node[above,inner sep=0,outer sep=0] (m) {\input{\mainfolder/DrawingElements/MechanicalElements/mass2.tex}};
\draw (4,2) node {$m=1$};
\draw (k) node[right=6pt] {$k=1$};
\draw[very thick] (m) -- (k);
\draw[very thick] (k) -- (g);

% control
\draw (-2,1) node[sysblock]  (K) {$K_{p}$};
\draw (-2,2.5) node[sysblock]  (Kd) {$K_{d}s$};
\draw (0,1) node[draw,circle,inner sep=0pt,outer sep=0pt,very thick] (sum2) {\rule{12pt}{0pt}};
\draw (-3.5,1) node[draw,circle,inner sep=0pt,outer sep=0pt,very thick] (sum) {\rule{12pt}{0pt}};
\draw[thick,dotted,->] (y) -- ++(1,0) -- ++(0,4.75) -| (sum.90) node[above right=0pt] {$-$};
\draw[thick,dotted,->] (K.0) -- (sum2.180) node[above left] {$+$};
\draw[thick,dotted,->] (sum.90 |- Kd.180) -- (Kd.180); 
\draw[thick,dotted,->] (Kd.0) -| (sum2.90) node[above right] {$-$};
\draw[thick,dotted,->] (sum2.0) -- (x);
\draw[thick,dotted,->] (sum.0) -- (K.180);
\draw[<-,thick,dotted] (sum.180) node[above left=0pt] {$+$} -- ++(-1,0) node[above] {$\delta y_{d}$};
\end{tikzpicture}
}
\end{center}
\begin{enumerate}[(a)]
\item Find the transfer function for the hydraulic actuator and load alone, $\frac{\delta Y(s)}{\delta X(s)}$.
\item  Draw the block diagram for the complete control system, inserting the hydraulic actuator and load in the correct position. 
\item (10 points) Based on the block diagram you drew for part (b), find gains $K_{p}$ and $K_{d}$ such that the closed loop step response satisfies $\OS =15\%$ and $\tr = 0.88$s.
\end{enumerate}