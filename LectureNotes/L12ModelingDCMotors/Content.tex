\mode<presentation>
{
  \usetheme{CambridgeUS}
  \usecolortheme{whale}
  \usecolortheme{lily}

  \setbeamercovered{transparent}
  \usefonttheme[onlymath]{serif}
}

\title[\MotorModelingShortName] % (optional, use only with long paper titles)
{\course: \MotorModelingName\license}

\subtitle
{Lecture \MotorModelingNumber} % (optional)


\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\mode<article>{
\maketitle
\tableofcontents
}


%\mode<presentation>{
%\begin{frame}{Outline}
%  \tableofcontents
%  % You might wish to add the option [pausesections]
%\end{frame}}


\section{Pre-requisite Material}
This lecture assumes that the reader is familiar with the following material:
\begin{itemize}
\item Lecture \ModelingMechanicalSystemsNumber:~\ModelingMechanicalSystemsName
\item Lecture \ElectricalSystemsNumber:~\ElectricalSystemsName
\item Lecture \BlockDiagramsNumber:~\BlockDiagramsName
\end{itemize}

%\section{Actuators}
%\begin{frame}{Actuators}
%Some common actuators used in control systems are
%\begin{itemize}
%\item Electric Motors \qquad
%\includegraphics[height=1in]{figures/Motors01CJC}\\<all>
%{\tiny(from http://en.wikipedia.org/wiki/Image:Motors01CJC.jpg. Created by C\_J\_Cowie)}
%\item Hydraulic Actuators \qquad
%\includegraphics[height=1in]{figures/CAT385-Raupenbagger}\\<all>
%{\tiny(http://en.wikipedia.org/wiki/File:CAT385-Raupenbagger.jpg Created by St\"{o}rfix)}
%\end{itemize}
%\end{frame}


\section{Electric Motors}

\begin{frame}{Electric Motors}
\begin{itemize}
\item Motors are {\em transducers} which convert electrical energy to mechanical energy.
\item We will look at models for brushed DC motors.
\end{itemize}
\end{frame}

\subsection{Key Ideas}
\begin{frame}{Key Idea 1: Lorentz Force}
\begin{itemize}
\item An electron moving in a magnetic field experiences a force perpendicular to its motion and the magnetic field.
\begin{center}
$F=q(v\times B)$\hspace{.5in} \begin{minipage}{2in}\includegraphics[height=1.5in]{figures/Cyclotron_motion}\\
{\tiny(http://commons.wikimedia.org/wiki/File:Draaibank.png}
\end{minipage}
\end{center}
\item Electrons move in a circle when exposed to a constant magnetic field.
\end{itemize}
\end{frame}
In the figure, electrons are ejected by the hot-cathode electron gun. Purple light is emitted along the electron path, as gas molecules are excited when collisions with electrons occur. 

\begin{frame}{Key Idea 1: Lorentz Force}
\begin{itemize}
\item Electrons in a wire are constrained to move in a straight line. When a wire is placed in a magnetic field, and a current is set up through the wire, the Lorentz force creates a force perpendicular to the current and the magnetic field.
\begin{center}
$f=Ki$\hspace{.75in} \begin{minipage}{2in}\input{figures/lorentzforce.tex}\end{minipage}
\end{center}
\item This is the basis for a motor - the force on the wire can drive a mechanical load.
\end{itemize}
\end{frame}


\begin{frame}{Key Idea 2: Conservation of Energy}
\begin{columns}
\begin{column}{3in}
\begin{itemize}
\item A force on a wire will cause it to accelerate.
\item Work done
\begin{itemize}
\item on the wire: $\dot{x}f = \dot{x}Ki$.
\item to create the current: $iv_{b}$.
\end{itemize}
\item Conservation of energy suggests these are equal
\begin{align*}
iv_{b} &= \dot{x}Ki,\\
v_{b} &= \dot{x}K.
\end{align*}
\item voltage (back electro-motive force) $v_{b}$  is proportional to the wire's velocity
\end{itemize}
\end{column}
\begin{column}{1.8in}
\begin{center}
\input{figures/lorentzforce2.tex}
\end{center}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{DC motor components}
\begin{center}
\begin{minipage}{1.75in}
\includegraphics[width=1.75in]{figures/DCmotor}\\
{\tiny http://en.wikipedia.org/wiki/File:Motor\_internals.JPG}
\end{minipage}
\begin{minipage}{2.75in}\begin{center}
\input{figures/motordiagram.tex}\end{center}
\end{minipage}
\end{center}
\end{frame}

\subsection{Motor Analysis}

\begin{frame}{DC motor diagram}
\begin{center}
\input{figures/motordiagram4.tex}
\end{center}
\end{frame}

This system can be analyzed by finding the equations for the circuit, the equations for the mechanical system, and adding the motor transducer relationships.

\vspace{10pt}
\noindent Circuit:
\[
V_{a}(s) = I_{a}(s)R_{a} + I_{a}(s)L_{a}s + V_{b}(s).
\]
Mechanical System:
\[
Js^{2}\theta(s) = \tau_{m}(s) - bs\theta(s).
\]
Transducer relationships:
\begin{align*}
\tau_{m} &= K_{t}I_{a}(s),\\
V_{b}(s) &= K_{e}s\theta(s).
\end{align*}

A convenient way of viewing these equations is by using a block diagram. 

\subsection{Block Diagram}

The block diagram will relate the variables $V_{a}(s)$, $I_{a}(s)$, $V_{b}(s)$, $\tau_{m}(s)$, and $\theta(s)$. Since $V_{a}(s)$ is an input, we should put it at the left of the block diagram. Note that the circuit equation implies
\[
I_{a}(s) = \frac{1}{R_{a}+L_{a}s}\left(V_{a}(s) - V_{b}(s)\right),
\]
and the mechanical equation implies
\[
\theta(s) = \frac{1}{Js^{2} +bs}\tau_{m}(s).
\]

Using blocks that define the relationships between the variables, we get the following block diagram.
\begin{frame}{DC motor block diagram}
\begin{center}
\input{figures/motorblockdiagram.tex}
\end{center}
\end{frame}
Note that there is inherent feedback in a DC motor plant system that is \textit{not equivalent to feedback control}. Instead, it is a property of the physical motor system. 

Using this block diagram, you can find the transfer function from $V_{a}(s)$ to any of the other variables.

\subsection{Arbitrary Load}

In the block diagram above, the load was specified to be an inertia with viscous damping. The load came into the block diagram by specifying the mapping from the motor torque $\tau_{m}(s)$ to the rotation of the motor shaft, $\theta(s)$. Note that $\frac{\theta(s)}{\tau_{m}(s)}=N(s)$ defines a mechanical impedance. Thus, we can easily accommodate other loads by substituting in the specific mechanical impedance of the load. 

\begin{frame}{DC motor block diagram with arbitrary load}
\begin{center}
\input{figures/motorblockdiagram2.tex}
\end{center}
\end{frame}

For example, suppose we were given a problem with a different load, say the following:
\begin{frame}{DC motor with different load}
\begin{center}
\input{figures/motordiagram3.tex}
\end{center}
\end{frame}

All we need to do is mentally disconnect the motor, and find the transfer function $\frac{\theta(s)}{\tau_{m}(s)}$. In this case, the load impedance would be found from the network:
\begin{frame}
\begin{center}
\input{figures/loadcircuit2.tex}
\end{center}
\end{frame}

And the transfer function from motor torque to motor axis rotation would be
\[
N(s)=\frac{\theta(s)}{\tau_{m}(s)} = \frac{1}{k} + \frac{1}{Js^{2}} = \frac{Js^{2} +k}{Jks^{2}}.
\]
This is then plugged into the block diagram above.


\section{Lecture Highlights}
The primary takeaways from this article include
\begin{enumerate}
\setlength{\itemsep}{5pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\item Motors combine previously-studied types of systems (electrical and rotational systems for motors).
\item For the purposes of this class, we assume linear DC motors.
\item In general, you can use the structure shown in the ``DC motor block diagram with arbitrary load'' figure to solve problems in this class. You will need to solve for $N(s)$ based on your rotational system configuration and may need to slightly modify other blocks (such as setting $L_a = 0$ if the inductance is assumed to be negligible).
\item The apparent ``feedback'' path in the block diagrams for motors should not be confused with feedback \textit{control} in future lectures. Rather, it is part of the inherent system (plant) property for the motor or hydraulic actuator.
\end{enumerate}

\section{Quiz Yourself}

\subsection{Questions}


\begin{enumerate}
\setlength{\itemsep}{5pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\item Consider the following  motor system\vspace{-.1in}
\begin{center}
\input{quizfigures/motordiagram2.tex}
\end{center}
You are told that $J=1$ kgm$^{2}$, the internal motor resistance $R_{a}=1/4$ $\Omega$ and the internal motor inductance can be neglected so that $L_{a}=0$. The back emf constant $K_{e}=2$ and the motor constant $K_{t}=4$. Find the transfer function $\tau_{m}(s)/V_{a}(s)$.
\end{enumerate}
\pagebreak

\subsection{Solutions}
\begin{enumerate}
\setlength{\itemsep}{5pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\item \rule{0pt}{12pt}\\
\begin{center}
\includegraphics[width=5in]{quizfigures/1asoln}\\
\includegraphics[width=5in]{quizfigures/1bsoln}\\
\end{center}
\pagebreak
\end{enumerate}

\section{Resources}

\subsection{Books}

\begin{itemize}
\item Norman S. Nise, {\em Control Systems Engineering}, Wiley
\begin{itemize}
\item 7th edition: Section 2.8 covers motors
\end{itemize}
\item Gene F. Franklin, J. David Powell and Abbas Emami-Naeini,  {\em Feedback Control of Dynamic Systems}, Pearson
\begin{itemize}
\item 6th and 7th edition: Section 2.3 covers motors
%\item 6th and 7th edition: Section 2.4 has a hydraulics example
\end{itemize}
\end{itemize}

\subsection{Web resources}
%There are also some web resources that cover motors and hydraulic actuators. 
If you find something useful, or if you find a link that no longer works, please inform your instructor!

\begin{itemize}
\item \url{https://www.youtube.com/watch?v=GSvoQ4p3qV0}: A 12 minute lecture on DC motors 
\end{itemize}





\end{document}


