\usetikzlibrary{patterns}
\usepackage{framed}
\usetikzlibrary{decorations.pathmorphing}
\mode<presentation>
{
  \usetheme{CambridgeUS}
  \usecolortheme{whale}
  \usecolortheme{lily}

  \setbeamercovered{transparent}
  \usefonttheme[onlymath]{serif}
}

\title[Mechanical] % (optional, use only with long paper titles)
{EGGN307: Modeling Mechanical Systems\license}

\subtitle
{} % (optional)

\author% (optional, use only with lots of authors)
{Tyrone Vincent}
%{T. Vincent\inst{1} \and S.~Another\inst{2}}
% - Use the \inst{?} command only if the authors have different
%   affiliation.

\institute[CSM] % (optional, but mostly needed)
{Division of Engineering\\
  Colorado School of Mines}
% - Use the \inst command only if there are several affiliations.
% - Keep it simple, no one is interested in your street address.

\date % (optional)
{Lecture 1}



% If you have a file called "university-logo-filename.xxx", where xxx
% is a graphic format that can be processed by latex or pdflatex,
% resp., then you can add a logo as follows:

%\pgfdeclareimage[height=1.1cm]{university-logo}{UniversityLogo}
%\logo{\pgfuseimage{university-logo}}



% Delete this, if you do not want the table of contents to pop up at
% the beginning of each subsection:
%\AtBeginSection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[currentsection,currentsubsection]
%  \end{frame}
%}


% If you wish to uncover everything in a step-wise fashion, uncomment
% the following command:

%\beamerdefaultoverlayspecification{<+->}


\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\mode<article>{
\maketitle
\tableofcontents
}

%\mode<presentation>{
%\begin{frame}{Outline}
%  \tableofcontents
%  % You might wish to add the option [pausesections]
%\end{frame}}

\section{Modeling}

\subsection{The Objective of Modeling}

Almost all feedback control systems have a common framework for implementation. As shown below, the ``plant'' contains two parts: the system to be controlled, and the actuator, which can take signals sent to it by the controller and convert them to actions. A sensor take measurements of the plant, which are compared to a reference. The error between the reference command and actual output is supplied to a controller, which then decides on the signal that should be sent to the actuator, completing the loop.

\begin{frame}{Feedback Control System}
\begin{center}
\input{figures/controlsystemsetup.tex}
\end{center}
\end{frame}

\begin{framed}
Different plants have different behavior. In order to design a control system that decides what the input should be, we need to be able to {\em predict} how that plant will respond to different inputs. This is the purpose of a model.
\end{framed}

\section{Idealized Components}

In order to model a system, we have to answer a few questions. Consider a suspension system on an automobile, as shown below. The suspension system consists of several different components that are connected together. These components include the tire (and axle), the spring, the shock absorber (damper), and the car chassis. What would a model of this system be?
\begin{frame}{Modeling}
\begin{itemize}
\item What signals are we interested in? Any physical system has many attributes - In this case, we want to know the translational motion of each element of the suspension system. Other attributes, for example, the temperature of each component, is not of interest.
\item What is the desired level of accuracy? Do we want to know just the relative motion in the plane, or are we also interested in the flexible motion of the components (vibrations)?
\item What is the time scale? 
\end{itemize}
\end{frame}
\begin{frame}{Components of an automobile suspension}
\begin{center}
\includegraphics[width=2.3in]{figures/Federbein_Seicentosuspension}\input{figures/autosuspension.tex}
\end{center}
{\tiny Photo attribution: By Bukk (Own work) [Public domain], via Wikimedia Commons}
\end{frame}\vspace{.1in}

The simplest type of modeling is {\em lumped} modeling, where we only keep track of variables such as position or velocity at the connections between components, which will result in a series of ordinary differential equations. This is the kind of modeling that we will focus on in this class. 

\subsection[Idealized Components]{Idealized components for translational motion of mechanical systems}
What are mechanical systems? Control of \underline{motion} \\
 Examples:
 \begin{itemize} 
\item Automobile cruise control and stability control 
\item Satellite orientation 
\item Aircraft 
\item  Active damping for buildings and large trusses 
\item  Cranes 
\item  Rockets
\end{itemize}   
\begin{frame}{Idealized components for translational motion of mechanical systems}
We will use the following elements to describe translational mechanical systems. The variables that we are modeling are 
\begin{itemize}
\item force, which has units of Newtons (N)
\item position, which has units of meters (m). 
\end{itemize}
\end{frame}
Unless otherwise specified, we will always assume that the force and position variables have these units.
\begin{frame}{Mass}
As familiar from physics, all objects have mass, which relates the applied force to the the acceleration of that object through Newton's Law.
\begin{center}
\input{figures/mass.tex}
\end{center}
\end{frame}
Notation:
\begin{equation*}
\dot{x}\equiv \frac{dx}{dt},\quad \ddot{x} \equiv \frac{d^{2}x}{dt^{2}}.
\end{equation*}%

When the engine applies a force to your car, it will accelerate, but only up to a point. Eventually drag forces, or other friction forces, will oppose the force applied by the car. This is modeled by a damper. 
\begin{frame}{Damping}
The relative velocity of the ends of the damper is proportional to the applied force.
\begin{center}
\input{figures/damper.tex}
\end{center}
\end{frame}
Note that the applied force is always {\em equal and opposite} on both ends of the damper. Since this is an ``ideal'' damper, it contains no mass, and thus it cannot sustain a net force, otherwise it would sustain infinite acceleration.

The final behavior we will model is elastic compressibility. The ideal element is the linear spring.
\begin{frame}{Spring}
Relative compression between the ends of the spring is proportional to the applied force.
\begin{center}
\input{figures/spring.tex}
\end{center}
\end{frame}
Like the damper, the applied force is always {\em equal and opposite} on both ends of the spring. 

\begin{frame}{Connecting Components}
\begin{definition}
The laws that describe the relationship between position (or velocity, or acceleration) and force on an ideal element are called the {\em component model}, or constitutive relationship. 
\end{definition}
\end{frame}
\subsection{Connection Rules}

We can build a more complex system by attaching ideal elements to each other. There are two connection rules to follow. For example, suppose we connect a spring to a damper.
\begin{frame}{Connecting a Spring and Damper}
\begin{center}
\input{figures/springanddamper.tex}
\end{center}
\end{frame}

\begin{itemize}
\item When two elements are connected, the two components share the same {\em position}. Thus, in the above example 
\[
x_{2}=x_{3}
\]
is a connection constraint
\item When two elements are connected, the forces at the connection {\em sum to zero} (keeping track of direction). Thus, in the above example \[
f_{k}=f_{b}
\]
since they point is opposite directions.
\end{itemize}

\subsection{Boundary Conditions}

Often, we will want to prescribe either the position or force of a particular terminal. For example, consider the following two diagrams

\begin{frame}{Applying Boundary Conditions}
\begin{center}
\input{figures/springandground.tex}
\end{center}
\end{frame}
On the left side of each diagram is a fixed point (in a non-accellerating frame) called a {\em ground}. When a ground is connected to an element, this fixes the position of that terminal at zero. Thus, for both the left and right diagrams we have
\[
x_{1} =0.
\]
In the left hand diagram, we have indicated that the position of one side of the spring will be specified by the signal $x_{in}$. Thus,
\[
x_{2} = -x_{in},
\]
since $x_{2}$ and $x_{in}$ are pointing is opposite directions. 
Similarly, in the right hand diagram, we have indicated that the force applied to one side of the spring will be specified by the signal $f_{in}$. Thus
\[
f_{k} = f_{in}.
\]

\subsection{Writing the equations of motion}

Using the component laws and connection laws, we can write the equations of motion for a lumped translational system. This is as simple as writing down all of the relevant laws, and then eliminating variables. Consider the following system with applied force $r$.
\begin{frame}{Spring-Damper System with Input}
\begin{center}
\input{figures/springanddamperandground.tex}
\end{center}
\end{frame}
For the spring/damper system given above we have
\begin{align*}
\mbox{Component Laws}&
\left\{ \begin{matrix} f_{k} = k(x_{1}-x_{2})\\
f_{b}  = b(\dot{x}_{3}-\dot{x}_{4})
\end{matrix}\right.\\
\mbox{Connection Laws}&\left\{\begin{matrix} f_{k}=f_{b}\\
x_{2}=x_{3} 
\end{matrix}\right.\\
\mbox{Boundary Conditions}&\left\{\begin{matrix}x_{1}=0\\
f_{b}=r 
\end{matrix}\right.\end{align*}
This set of equations constitute the equations of motion for this system. Now let's count variables and equations. The variables are $x_{1},x_{2},x_{3},x_{4},f_{b},f_{k},r$, or 7 variables. We have 6 equations. We can thus eliminate all the variables except two. (This will always be the case) Thus, once $r$ (the input) is specified, we can solve for any other variables that we are interested in (the output).

Let's solve for $x_{2}$. Using the boundary conditions, we have
\begin{align*}
f_{k} &= -k(x_{2}),\\
u & = b(\dot{x}_{3}-\dot{x}_{4}),\\
f_{k}&=r,\\
x_{2}&=x_{3}. \
\end{align*}
Then, using the connection laws (substituting the the bottom two equations into the top two equations),
\begin{align*}
r &= -k(x_{2}),\\
r & = b(\dot{x}_{2}-\dot{x}_{4}).\
\end{align*}
The first equation gives us the direct relationship between $r$ and $x_{2}$, we are looking for, namely
\[
x_{2}=\frac{-1}{k}r.
\]

\section{Examples}
\subsection{Example 1: Ideal elements for a car suspension}
Let's return to the car suspension system example. Each of the components can be represented by an ideal element, or combination of ideal elements that best represents the physical behavior. The exact configuration will  depend on the desired level of fidelity. However, a simple model is to take the car as a mass ($m_{c}$), the shock absorber as a damper ($d$), and the spring and a spring ($k$). The position of the wheel is determined by the road, and provides the boundary condition to the spring and damper $x_{r}$. The position of the car mass is indicated by $x_{c}$. 
\begin{frame}{Suspension system}
\begin{center}
\input{figures/autosuspension.tex}\hspace{.25in}\input{figures/autosuspensionmodel2.tex}
\end{center}
\end{frame}

\subsection{Example 2: Equations of motion for car suspension system}
In order to write down the equations of motion for a mechanical system, we can break the system apart to a {\em free body diagram} where each of the forces and positions relevant for each element can be explicitly exhibited. 
\begin{frame}{Free Body Diagram for Suspension System}
\begin{center}
\input{figures/autosuspensionmodel2fbd.tex}
\end{center}
\end{frame}
Note that we have added the effect of gravity as a downward force on the car mass, with magnitude $m_{c}g$, were $g$ is gravitational accelleration. In this free body diagram, we have been careful to draw the directly forces on the spring and damper components in the same way that they were defined in the component law. This will help us make sure that we get the signs on all of our terms correctly. Note, however, that the arrow only defines the direction of {\em positive} force. It does not necessarily mean that the force will always be in that direction - only that when the force is compressive, it will be considered positive.

Because the components are connected, many of the variables in the free body diagram are related. Usually, you can apply the connection laws directly when you draw the free body diagram. The result of applying the connection laws will be the following: 
\begin{frame}{Free Body Diagram after applying connection rules and boundary conditions}
\begin{center}
\input{figures/autosuspensionmodel2fbdconnection.tex}
\end{center}
\end{frame}

Now we can write down the component equations. Lets look at the mass first. Since both $f_{k}$ and $f_{b}$ are positive in the same direction as $x_{c}$ is positive, we use a positive sign in Newton's law.
\[
m_{c}\ddot{x}_{c} = f_{k} +f_{b} - m_{c}g
\]
For the spring and damper, we use a positive sign for $x_{r}$, as it is positive in the same direction that $f_{b}$ and $f_{k}$ are positive. Since $x_{c}$ points in the opposite direction, it is negative
\begin{align*}
f_{b} &= b(\dot{x}_{r} - \dot{x}_{c})\\
f_{k} &= k(x_{r} - x_{c})
\end{align*}

We can now find the relationship between any two variables of interest. For example, we can find the differential equation relating $x_{r}$ and $x_{c}$ by plugging in $f_{b}$ and $f_{k}$
\[
m_{c}\ddot{x}_{c} = k(x_{r} - x_{c})+ b(\dot{x}_{r} - \dot{x}_{c}) - m_{c}g
\]
or
\[
m_{c}\ddot{x}_{c} +b\dot{x}_{c} +kx_{c}= kx_{r} +b\dot{x}_{r} - m_{c}g
\]

\section{Quiz Yourself}

\subsection{Questions}
\begin{enumerate}
\setlength{\itemsep}{5pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\item Find the differential equation(s) that describe the following systems:
\begin{enumerate}
\item \rule{0pt}{12pt}\\
\begin{center}
\input{quizfigures/massspringdamper1.tex}
\end{center}
\item \rule{0pt}{12pt}\\ 
\begin{center}
\input{quizfigures/massspringdamper2.tex}
\end{center}
\item \rule{0pt}{12pt}\\ 
\begin{center}
\input{quizfigures/massspringdamper3.tex}
\end{center}
\end{enumerate}
\item You are training for a water skiing competition. In order to better your performance, you want to model the velocity of the water skier. Note that the rope stretches when tension is applied, but also exhibits some characteristics of a damper.
\begin{enumerate}
\item What are the input and output of the system?
\item Draw a model using idealized elements
\item Find the differential equations describing this system.
\end{enumerate}
\begin{center}
\includegraphics[width=4in]{quizfigures/waterskiier}
\end{center}
\end{enumerate}

\subsection{Solutions}

\begin{enumerate}
\setlength{\itemsep}{5pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\item \rule{0pt}{12pt}\\
\begin{enumerate}
\item \rule{0pt}{12pt}\\
\begin{center}
\includegraphics[width=5in]{quizfigures/1asoln}
\end{center}\newpage
\item \rule{0pt}{12pt}\\ 
\begin{center}
\includegraphics[width=5in]{quizfigures/1bsoln}
\end{center}
\item \rule{0pt}{12pt}\\ 
\begin{center}
\includegraphics[width=5in]{quizfigures/1csoln}
\end{center}
\end{enumerate}\newpage
\item \rule{0pt}{12pt}\\ 
\begin{center}
\includegraphics[width=6in]{quizfigures/2soln}
\end{center}
\end{enumerate}



\end{document}


